{% extends 'basic.html' %}
{% load static %}
{% load i18n %}
{% block title %}

    {{ block.super }}
{% endblock %}
{% block description %}
    {{ block.super }}
{% endblock %}
{% block content %}
    <section class="profile">
        <div class="wrapper">
            <div class="profile-top">
                <div class="profile-row">
                    <div class="profile-user">
                        <div class="profile-info">
                            <h3 class="profile-name">{% trans 'Панель управления' %}</h3>
                        </div>
                    </div>
                </div>
                <ul class="profile-list tab-list">
                    <li><a id="btn_tab-1" href="#tab-1" >
                        <span><svg width="16" height="10" viewBox="0 0 16 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1797 3.75L15.5 0.429688V9.57031L12.1797 6.25V9.17969C12.1797 9.41406 12.0885 9.60938 11.9062 9.76562C11.75 9.92188 11.5547 10 11.3203 10H1.32031C1.08594 10 0.890625 9.92188 0.734375 9.76562C0.578125 9.60938 0.5 9.41406 0.5 9.17969V0.820312C0.5 0.585938 0.578125 0.390625 0.734375 0.234375C0.890625 0.078125 1.08594 0 1.32031 0H11.3203C11.5547 0 11.75 0.078125 11.9062 0.234375C12.0885 0.390625 12.1797 0.585938 12.1797 0.820312V3.75Z" fill="#0088CC"/></svg></span>
                        <b>{% trans 'Пользователи' %}</b>
                    </a></li>
                    <li><a id="btn_tab-2" href="#tab-2">
                        <span><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1797 8.32031L19.1406 8.39844H19.1797V10C19.1797 10.2083 19.1406 10.4167 19.0625 10.625L16.5234 16.4844C16.263 17.1615 15.7552 17.5 15 17.5H7.5C7.05729 17.5 6.66667 17.3307 6.32812 16.9922C5.98958 16.6536 5.82031 16.263 5.82031 15.8203V7.5C5.82031 7.05729 5.98958 6.66667 6.32812 6.32812L11.7969 0.820312L12.6953 1.71875C12.9297 1.95312 13.0469 2.23958 13.0469 2.57812V2.85156L12.2266 6.67969H17.5C17.9427 6.67969 18.3333 6.84896 18.6719 7.1875C19.0104 7.5 19.1797 7.8776 19.1797 8.32031ZM0.820312 17.5V7.5H4.17969V17.5H0.820312Z" fill="#0088CC"/></svg></span>
                        <b>{% trans 'Категории' %}</b>
                    </a></li>
                    <li><a id="btn_tab-3" href="#tab-3">
                        <span><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1797 8.32031L19.1406 8.39844H19.1797V10C19.1797 10.2083 19.1406 10.4167 19.0625 10.625L16.5234 16.4844C16.263 17.1615 15.7552 17.5 15 17.5H7.5C7.05729 17.5 6.66667 17.3307 6.32812 16.9922C5.98958 16.6536 5.82031 16.263 5.82031 15.8203V7.5C5.82031 7.05729 5.98958 6.66667 6.32812 6.32812L11.7969 0.820312L12.6953 1.71875C12.9297 1.95312 13.0469 2.23958 13.0469 2.57812V2.85156L12.2266 6.67969H17.5C17.9427 6.67969 18.3333 6.84896 18.6719 7.1875C19.0104 7.5 19.1797 7.8776 19.1797 8.32031ZM0.820312 17.5V7.5H4.17969V17.5H0.820312Z" fill="#0088CC"/></svg></span>
                        <b>{% trans 'Опубликованные видео' %} ({{ all_moderated_video.count }})</b>
                    </a></li>
                    <li><a id="btn_tab-4" href="#tab-4">
                        <span><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1797 8.32031L19.1406 8.39844H19.1797V10C19.1797 10.2083 19.1406 10.4167 19.0625 10.625L16.5234 16.4844C16.263 17.1615 15.7552 17.5 15 17.5H7.5C7.05729 17.5 6.66667 17.3307 6.32812 16.9922C5.98958 16.6536 5.82031 16.263 5.82031 15.8203V7.5C5.82031 7.05729 5.98958 6.66667 6.32812 6.32812L11.7969 0.820312L12.6953 1.71875C12.9297 1.95312 13.0469 2.23958 13.0469 2.57812V2.85156L12.2266 6.67969H17.5C17.9427 6.67969 18.3333 6.84896 18.6719 7.1875C19.0104 7.5 19.1797 7.8776 19.1797 8.32031ZM0.820312 17.5V7.5H4.17969V17.5H0.820312Z" fill="#0088CC"/></svg></span>
                        <b>{% trans 'Не опубликованные видео' %} ({{ all_non_moderated_video.count }})</b>
                    </a></li>
                </ul>
            </div>
            <div class="profile-tab tab profile-post tab-active" id="tab-1">
                <table class="users-table" cellspacing="0" cellpadding="0">
                    <tr class="users-table-header">
                        <td class="users-table-header-item">E-Mail</td>
                        <td class="users-table-header-item">{% trans 'Имя пользователя' %}</td>
                        <td class="users-table-header-item">{% trans 'ФИО' %}</td>
                        <td class="users-table-header-item">{% trans 'Дата регистрации' %}</td>
                        <td class="users-table-header-item">{% trans 'Опубликованные видео' %}</td>
                        <td class="users-table-header-item">{% trans 'Не опубликованные видео' %}</td>
                    </tr>
                    {% for user in all_users %}
                        <tr class="users-table-row" onclick="window.location.href = '/cp/user/{{ user.id }}'">
                            <td class="users-table-row-item">{{ user.email }}</td>
                            <td class="users-table-row-item">{{user.get_nickname}}</td>
                            <td class="users-table-row-item">{{ user.get_name }}</td>
                            <td class="users-table-row-item">{{ user.date_joined | date }}</td>
                            <td class="users-table-row-item">{{ user.get_published_videos }}</td>
                            <td class="users-table-row-item">{{ user.get_unpublished_videos }}</td>
                        </tr>
                    {% endfor %}
                </table>
            </div>
            <div class="profile-tab tab" id="tab-2">
                <div class="personalArea-row">
                    <div class="personalArea-col">
                        <div class="personalArea-wrap">
                            <div style="margin-bottom: 20px" class="category-item">
                                <div class="category-item-header">
                                    <span onclick="newCategory()" style="background: #0bf447" class="main-btn">{% trans 'Новая категория' %}</span>
                                </div>
                            </div>
                            {% for cat in all_cats %}
                                <div class="category-item">
                                    <div class="category-item-header">
                                        <h3>{{ cat.name }}</h3>
                                        <div>
                                            <span onclick="editCategory('{{ cat.id }}')" style="background: #0bf447" class="main-btn">&#9998;</span>
                                            <a href="{% url 'admin_delete_cat' cat.id%}" class="main-btn">&#10006;</a>
                                        </div>
                                    </div>
                                    <span style="cursor: pointer; display: block; margin-bottom: 10px; text-decoration: underline" onclick="newSubCategory('{{ cat.id }}')">{% trans 'Новая подкатегория' %}</span>
                                    <ul>
                                        {% for subcat in cat.subcat.all %}
                                            <li class="subcat_row"><p>{{ subcat.name }}</p> <p><span style="margin-right: 20px" onclick="editSubCategory('{{ subcat.id }}')" class="subcat_icon">&#9998;</span> <a href="{% url 'admin_delete_subcat' subcat.id %}" class="subcat_icon">&#10006;</a></p></li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div id="new_cat_div" style="display: none" class="personalArea-col">
                        <div class="personalArea-wrap">
                            <form action="{% url 'admin_create_category' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <span class="personalArea-subtitle">{% trans 'Новая категория' %}</span>

                                <div class="input-block">
                                    <label>{% trans 'Название' %}[RU]</label>
                                    <input type="text" name="{{ newCategoryForm.name_ru.name }}" required placeholder="Название категории" value="">
                                    <label>{% trans 'Название' %}[EN]</label>
                                    <input type="text" name="{{ newCategoryForm.name_en.name }}" required placeholder="Название категории" value="">
                                     <label>{% trans 'Название' %} [AZ]</label>
                                    <input type="text" name="{{ newCategoryForm.name_az.name }}" required placeholder="Название категории" value="">
                                    <label>{% trans 'Изображение' %}</label>
                                    <input style="border: none;  box-shadow: none" required name="{{ newCategoryForm.image.name }}" type="file">
                                     <label>{% trans 'Изображение в заголовке категории' %}</label>
                                    <input style="border: none;  box-shadow: none" required name="{{ newCategoryForm.header_image.name }}" type="file">
                                    <label>{% trans 'Тег TITLE' %} [RU]</label>
                                    <input name="{{ newCategoryForm.page_title_ru.name }}" required type="text">
                                    <label>{% trans 'Тег TITLE' %} [EN]</label>
                                    <input name="{{ newCategoryForm.page_title_en.name }}" required type="text">
                                    <label>{% trans 'Тег TITLE' %} [AZ]</label>
                                    <input name="{{ newCategoryForm.page_title_az.name }}" required type="text">
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [RU]</label>
                                    <textarea name="{{ newCategoryForm.page_keywords_ru.name }}"  id="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [EN]</label>
                                    <textarea name="{{ newCategoryForm.page_keywords_en.name }}"  id="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [AZ]</label>
                                    <textarea name="{{ newCategoryForm.page_keywords_az.name }}"  id="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег DESCRIPTION' %} [RU]</label>
                                    <textarea name="{{ newCategoryForm.page_description_ru.name }}" required cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [EN]</label>
                                    <textarea name="{{ newCategoryForm.page_description_en.name }}" required cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [AZ]</label>
                                    <textarea name="{{ newCategoryForm.page_description_az.name }}" required cols="30" rows="10"></textarea>
                                    <label>{% trans 'SEO текст' %} [RU]</label>
                                    <textarea style="height: 300px;resize: vertical" class="editor" name="{{ newCategoryForm.seo_text_ru.name }}"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [EN]</label>
                                    <textarea style="height: 300px;resize: vertical" class="editor" name="{{ newCategoryForm.seo_text_en.name }}"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [AZ]</label>
                                    <textarea style="height: 300px;resize: vertical" class="editor" name="{{ newCategoryForm.seo_text_az.name }}"  cols="30" rows="10"></textarea>

                                </div>
                                <button type="submit" class="personalArea-btn">
                                    <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 9.47656L14.3281 0.648438L15.5 1.82031L5.5 11.8203L0.851562 7.17188L2.02344 6L5.5 9.47656Z" fill="white"/></svg>
                                    {% trans 'Создать категорию' %}
                                </button>
                            </form>


                        </div>
                    </div>
                    <div id="new_subcat_div" style="display: none" class="personalArea-col">
                        <div class="personalArea-wrap">
                            <form action="{% url 'admin_create_subcategory' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <span class="personalArea-subtitle">Новая подкатегория</span>
                                <div class="input-block">
                                    <label>{% trans 'Название' %}[RU]</label>
                                    <input type="text" name="{{ newSubCategoryForm.name_ru.name }}" required placeholder="Название категории" value="">
                                    <label>{% trans 'Название' %}[EN]</label>
                                    <input type="text" name="{{ newSubCategoryForm.name_en.name }}" required placeholder="Название категории" value="">
                                     <label>{% trans 'Название' %} [AZ]</label>
                                    <input type="text" name="{{ newSubCategoryForm.name_az.name }}" required placeholder="Название категории" value="">
                                    <label>{% trans 'Изображение' %}</label>
                                    <input style="border: none;  box-shadow: none" required name="{{ newSubCategoryForm.image.name }}" type="file">
                                    <label>{% trans 'Тег TITLE' %} [RU]</label>
                                    <input name="{{ newSubCategoryForm.page_title_ru.name }}" required type="text">
                                    <label>{% trans 'Тег TITLE' %} [EN]</label>
                                    <input name="{{ newSubCategoryForm.page_title_en.name }}" required type="text">
                                    <label>{% trans 'Тег TITLE' %} [AZ]</label>
                                    <input name="{{ newSubCategoryForm.page_title_az.name }}" required type="text">
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [RU]</label>
                                    <textarea name="{{ newSubCategoryForm.page_keywords_ru.name }}"  id="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [EN]</label>
                                    <textarea name="{{ newSubCategoryForm.page_keywords_en.name }}"  id="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [AZ]</label>
                                    <textarea name="{{ newSubCategoryForm.page_keywords_az.name }}"  id="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег DESCRIPTION' %} [RU]</label>
                                    <textarea name="{{ newSubCategoryForm.page_description_ru.name }}" required cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [EN]</label>
                                    <textarea name="{{ newSubCategoryForm.page_description_en.name }}" required cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [AZ]</label>
                                    <textarea name="{{ newSubCategoryForm.page_description_az.name }}" required cols="30" rows="10"></textarea>
                                    <label>{% trans 'SEO текст' %} [RU]</label>
                                    <textarea style="height: 300px;resize: vertical" class="editor" name="{{ newSubCategoryForm.seo_text_ru.name }}"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [EN]</label>
                                    <textarea style="height: 300px;resize: vertical" class="editor" name="{{ newSubCategoryForm.seo_text_en.name }}"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [AZ]</label>
                                    <textarea style="height: 300px;resize: vertical" class="editor" name="{{ newSubCategoryForm.seo_text_az.name }}"  cols="30" rows="10"></textarea>
                                    <input id="cat_id" type="hidden" name="category_id">
                                </div>
                                <button type="submit" class="personalArea-btn">
                                    <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 9.47656L14.3281 0.648438L15.5 1.82031L5.5 11.8203L0.851562 7.17188L2.02344 6L5.5 9.47656Z" fill="white"/></svg>
                                    {% trans 'Создать подкатегорию' %}
                                </button>
                            </form>


                        </div>
                    </div>
                    <div id="edit_cat_div" style="display: none;" class="personalArea-col">
                        <div class="personalArea-wrap">
                            <form action="{% url 'admin_update_category' %}" method="post" enctype="multipart/form-data">{% csrf_token %}
                                <span class="personalArea-subtitle">{% trans 'Редактирование категории' %} </span>
                                <div class="input-block">
                                    <label>{% trans 'Название' %} [RU]</label>
                                    <input id="cat_name_ru" type="text" name="name_ru" required="" placeholder="Название категории" value="">
                                    <label>{% trans 'Название' %} [EN]</label>
                                    <input id="cat_name_en" type="text" name="name_en" required="" placeholder="Название категории" value="">
                                    <label>{% trans 'Название' %} [AZ]</label>
                                    <input id="cat_name_az" type="text" name="name_az" required="" placeholder="Название категории" value="">
                                    <label>{% trans 'Текущее изображение категории' %}</label>
                                    <img id="cat_image" src="" alt="">
                                    <label>{% trans 'Изображение' %}</label>
                                    <input id="cat_image" style="border: none;  box-shadow: none"  name="image" type="file">
                                     <label>{% trans 'Текущее изображение в заголовке категории' %}</label>
                                    <img id="cat_header_image" src="" alt="">
                                    <label>{% trans 'Изображение в заголовке категории' %}</label>
                                    <input  style="border: none;  box-shadow: none"  name="header_image" type="file">
                                    <label>{% trans 'Тег TITLE' %} [RU]</label>
                                    <input id="cat_page_title_ru" name="page_title_ru" required="" type="text">
                                    <label>{% trans 'Тег TITLE' %} [EN]</label>
                                    <input id="cat_page_title_en" name="page_title_en" required="" type="text">
                                    <label>{% trans 'Тег TITLE' %} [AZ]</label>
                                    <input id="cat_page_title_az" name="page_title_az" required="" type="text">
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [RU]</label>
                                    <textarea id="cat_page_keywords_ru" name="page_keywords_ru"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег KEYWORDS (через запятую)' %} [EN]</label>
                                    <textarea id="cat_page_keywords_en" name="page_keywords_en"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег KEYWORDS (через запятую)' %} [AZ]</label>
                                    <textarea id="cat_page_keywords_az" name="page_keywords_az"  cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег DESCRIPTION' %} [RU]</label>
                                    <textarea id="cat_page_description_ru" name="page_description_ru" required="" cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [EN]</label>
                                    <textarea id="cat_page_description_en" name="page_description_en" required="" cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [AZ]</label>
                                    <textarea id="cat_page_description_az" name="page_description_az" required="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'SEO текст' %} [RU]</label>
                                    <textarea id="cat_seo_text_ru" style="height: 300px;resize: vertical" class="editor2" name="seo_text_ru"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [EN]</label>
                                    <textarea id="cat_seo_text_en" style="height: 300px;resize: vertical" class="editor2" name="seo_text_en"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [AZ]</label>
                                    <textarea id="cat_seo_text_az" style="height: 300px;resize: vertical" class="editor2" name="seo_text_az"  cols="30" rows="10"></textarea>
                                    <input id="update_cat_id" type="hidden" name="id">
                                </div>
                                <button type="submit" class="personalArea-btn">
                                    <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 9.47656L14.3281 0.648438L15.5 1.82031L5.5 11.8203L0.851562 7.17188L2.02344 6L5.5 9.47656Z" fill="white"></path></svg>
                                    {% trans 'Сохранить изменения' %}
                                </button>
                            </form>


                        </div>
                    </div>
                    <div id="edit_subcat_div" style="display: none;" class="personalArea-col">
                        <div class="personalArea-wrap">
                            <form action="{% url 'admin_update_subcategory' %}" method="post" enctype="multipart/form-data">{% csrf_token %}
                                <span class="personalArea-subtitle">{% trans 'Редактирование подкатегории' %} </span>
                                <div class="input-block">
                                   <label>{% trans 'Название' %} [RU]</label>
                                    <input id="subcat_name_ru" type="text" name="name_ru" required="" placeholder="Название категории" value="">
                                    <label>{% trans 'Название' %} [EN]</label>
                                    <input id="subcat_name_en" type="text" name="name_en" required="" placeholder="Название категории" value="">
                                    <label>{% trans 'Название' %} [AZ]</label>
                                    <input id="subcat_name_az" type="text" name="name_az" required="" placeholder="Название категории" value="">
                                    <label>{% trans 'Текущее изображение категории' %}</label>
                                    <img id="subcat_image" src="" alt="">
                                    <label>{% trans 'Изображение' %}</label>
                                    <input id="subcat_image" style="border: none;  box-shadow: none"  name="image" type="file">
                                    <label>{% trans 'Тег TITLE' %} [RU]</label>
                                    <input id="subcat_page_title_ru" name="page_title_ru" required="" type="text">
                                    <label>{% trans 'Тег TITLE' %} [EN]</label>
                                    <input id="subcat_page_title_en" name="page_title_en" required="" type="text">
                                    <label>{% trans 'Тег TITLE' %} [AZ]</label>
                                    <input id="subcat_page_title_az" name="page_title_az" required="" type="text">
                                    <label>{% trans 'Тег KEYWORDS (через запятую)' %} [RU]</label>
                                    <textarea id="subcat_page_keywords_ru" name="page_keywords_ru"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег KEYWORDS (через запятую)' %} [EN]</label>
                                    <textarea id="subcat_page_keywords_en" name="page_keywords_en"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег KEYWORDS (через запятую)' %} [AZ]</label>
                                    <textarea id="subcat_page_keywords_az" name="page_keywords_az"  cols="30" rows="10"></textarea>
                                    <label>{% trans 'Тег DESCRIPTION' %} [RU]</label>
                                    <textarea id="subcat_page_description_ru" name="page_description_ru" required="" cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [EN]</label>
                                    <textarea id="subcat_page_description_en" name="page_description_en" required="" cols="30" rows="10"></textarea>
                                     <label>{% trans 'Тег DESCRIPTION' %} [AZ]</label>
                                    <textarea id="subcat_page_description_az" name="page_description_az" required="" cols="30" rows="10"></textarea>
                                    <label>{% trans 'SEO текст' %} [RU]</label>
                                    <textarea id="subcat_seo_text_ru" style="height: 300px;resize: vertical" class="editor2" name="seo_text_ru"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [EN]</label>
                                    <textarea id="subcat_seo_text_en" style="height: 300px;resize: vertical" class="editor2" name="seo_text_en"  cols="30" rows="10"></textarea>
                                     <label>{% trans 'SEO текст' %} [AZ]</label>
                                    <textarea id="subcat_seo_text_az" style="height: 300px;resize: vertical" class="editor2" name="seo_text_az"  cols="30" rows="10"></textarea>

                                    <input id="update_subcat_id" type="hidden" name="id">
                                </div>
                                <button type="submit" class="personalArea-btn">
                                    <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 9.47656L14.3281 0.648438L15.5 1.82031L5.5 11.8203L0.851562 7.17188L2.02344 6L5.5 9.47656Z" fill="white"></path></svg>
                                   {% trans 'Сохранить изменения' %}
                                </button>
                            </form>


                        </div>
                    </div>
                </div>


            </div>
            <div class="profile-tab tab" id="tab-3">
                <div class="post-row">
                    {% for video in all_moderated_video.all %}
                        {% include 'page/_video-card-small.html' %}
                    {% endfor %}
                </div>
            </div>
            <div class="profile-tab tab" id="tab-4">
                <div class="post-row">



                    {% for video in all_non_moderated_video.all %}
<div class="post post-small">
                        <div class="post-img">
                            <a href="{% url 'video_page' video.name_slug%}"><img src="{{ video.image.url }}" alt=""></a>
                        </div>
                        <div style="margin-bottom: 20px" class="post-info">
                            <div class="post-info__row">
                                <div class="post-user">
                                    <img style="width: 30px;height: 30px;object-fit: cover;" src="{{ video.user.get_avatar }}" alt="">
                                </div>
                                <div class="post-descr">
                                    <h3 class="post-title"><a href="{% url 'video_page' video.name_slug%}">{{ video.name }}</a></h3>
                                    <ul class="post-tag">
                                        <li><a href="#">{{ video.user.get_nickname }}</a></li>
                                    </ul>
                                </div>
                            </div>
                            <ul class="post-list">
                                <li><a href="#">
                                    <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.1797 8.32031V10C19.1797 10.2083 19.1406 10.4167 19.0625 10.625L16.5234 16.4844C16.263 17.1615 15.7552 17.5 15 17.5H7.5C7.05729 17.5 6.66667 17.3307 6.32812 16.9922C5.98958 16.6536 5.82031 16.263 5.82031 15.8203V7.5C5.82031 7.05729 5.98958 6.66667 6.32812 6.32812L11.7969 0.820312L12.6953 1.71875C12.9297 1.95312 13.0469 2.23958 13.0469 2.57812V2.85156L12.2266 6.67969H17.5C17.9427 6.67969 18.3333 6.84896 18.6719 7.1875C19.0104 7.5 19.1797 7.8776 19.1797 8.32031ZM0.820312 17.5V7.5H4.17969V17.5H0.820312Z" fill="#808080"/></svg>
                                    <span>{{ video.likes }}</span>
                                </a></li>
                                <li><a href="#">
                                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 5.67969V4H4V5.67969H14ZM14 8.17969V6.5H4V8.17969H14ZM14 10.6797V9H4V10.6797H14ZM17.3203 2.32031V17.3203L14 14H2.32031C1.8776 14 1.48698 13.8307 1.14844 13.4922C0.835938 13.1536 0.679688 12.763 0.679688 12.3203V2.32031C0.679688 1.8776 0.835938 1.5 1.14844 1.1875C1.48698 0.848958 1.8776 0.679688 2.32031 0.679688H15.6797C16.1224 0.679688 16.5 0.848958 16.8125 1.1875C17.151 1.5 17.3203 1.8776 17.3203 2.32031Z" fill="#808080"/></svg>
                                    <span>{{ video.comments }}</span>
                                </a></li>
                                <li><a href="#">
                                    <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.24219 5.24219C8.73698 4.7474 9.32292 4.5 10 4.5C10.6771 4.5 11.263 4.7474 11.7578 5.24219C12.2526 5.73698 12.5 6.32292 12.5 7C12.5 7.67708 12.2526 8.26302 11.7578 8.75781C11.263 9.2526 10.6771 9.5 10 9.5C9.32292 9.5 8.73698 9.2526 8.24219 8.75781C7.7474 8.26302 7.5 7.67708 7.5 7C7.5 6.32292 7.7474 5.73698 8.24219 5.24219ZM7.03125 9.96875C7.86458 10.776 8.85417 11.1797 10 11.1797C11.1458 11.1797 12.1224 10.776 12.9297 9.96875C13.763 9.13542 14.1797 8.14583 14.1797 7C14.1797 5.85417 13.763 4.8776 12.9297 4.07031C12.1224 3.23698 11.1458 2.82031 10 2.82031C8.85417 2.82031 7.86458 3.23698 7.03125 4.07031C6.22396 4.8776 5.82031 5.85417 5.82031 7C5.82031 8.14583 6.22396 9.13542 7.03125 9.96875ZM4.41406 2.46875C6.08073 1.32292 7.94271 0.75 10 0.75C12.0573 0.75 13.9193 1.32292 15.5859 2.46875C17.2526 3.61458 18.4505 5.125 19.1797 7C18.4505 8.875 17.2526 10.3854 15.5859 11.5312C13.9193 12.6771 12.0573 13.25 10 13.25C7.94271 13.25 6.08073 12.6771 4.41406 11.5312C2.7474 10.3854 1.54948 8.875 0.820312 7C1.54948 5.125 2.7474 3.61458 4.41406 2.46875Z" fill="#808080"/></svg>
                                    <span>{{ video.views }}</span>
                                </a></li>
                            </ul>
                        </div>
                        <a href="{% url 'moderate_video' video.id %}" style="background: #0bf447; width: 100%; margin-bottom: 10px" class="main-btn">{% trans 'Проверено' %}</a>
                        <a href="{% url 'delete_video' video.id %}?tab=tab-4" style=" width: 100%" class="main-btn">{% trans 'Удалить' %} </a>
                        </div>



                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
{% block js %}
    {{ block.super }}

    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            try{

                let tab = window.location.href.split('#')[1]
                console.log(tab)
                document.getElementById(`btn_${tab}`).click()
                document.getElementById(`btn_${tab}`).classList.add('active')
            }
            catch (e) {

            }

        });
    </script>

    <script>
        let new_cat = document.getElementById('new_cat_div'),
            edit_cat = document.getElementById('edit_cat_div'),
            edit_subcat = document.getElementById('edit_subcat_div'),
            new_subcat = document.getElementById('new_subcat_div'),
            cat_id = document.getElementById('cat_id')



        function newCategory() {
            new_cat.style.display = 'block'
            new_subcat.style.display = 'none'
            edit_cat.style.display = 'none'
            edit_subcat.style.display = 'none'
        }
        function newSubCategory(id) {
            new_subcat.style.display = 'block'
            new_cat.style.display = 'none'
            edit_cat.style.display = 'none'
            edit_subcat.style.display = 'none'
            cat_id.value = id
        }
        function editCategory(id) {
            let cat_name_ru = document.getElementById('cat_name_ru'),
                cat_name_en = document.getElementById('cat_name_en'),
                cat_name_az = document.getElementById('cat_name_az'),
                cat_page_title_ru = document.getElementById('cat_page_title_ru'),
                cat_page_title_en = document.getElementById('cat_page_title_en'),
                cat_page_title_az = document.getElementById('cat_page_title_az'),
                cat_page_keywords_ru = document.getElementById('cat_page_keywords_ru'),
                cat_page_keywords_en = document.getElementById('cat_page_keywords_en'),
                cat_page_keywords_az = document.getElementById('cat_page_keywords_az'),
                cat_page_description_ru = document.getElementById('cat_page_description_ru'),
                cat_page_description_en = document.getElementById('cat_page_description_en'),
                cat_page_description_az = document.getElementById('cat_page_description_az'),
                cat_image = document.getElementById('cat_image'),
                cat_header_image = document.getElementById('cat_header_image'),
                cat_seo_ru = document.getElementById('cat_seo_text_ru'),
                cat_seo_en = document.getElementById('cat_seo_text_en'),
                cat_seo_az = document.getElementById('cat_seo_text_az'),
                update_cat_id = document.getElementById('update_cat_id')
            new_cat.style.display = 'none'
            new_subcat.style.display = 'none'
            edit_subcat.style.display = 'none'


            let body = {
                id: id

            }
            fetch('/cp/category/get_cat_info', {
                method: 'post',
                body: JSON.stringify(body),
                headers: { "X-CSRFToken": '{{ csrf_token }}' },
                credentials: 'same-origin'
            }).then(res=>res.json())
                .then(res => {
                    console.log(res)
                    cat_name_ru.value = res['name_ru']
                    cat_name_en.value = res['name_en']
                    cat_name_az.value = res['name_az']
                    cat_image.setAttribute('src',res['image'])
                    cat_header_image.setAttribute('src',res['header_image'])
                    cat_page_title_ru.value = res['page_title_ru']
                    cat_page_title_en.value = res['page_title_en']
                    cat_page_title_az.value = res['page_title_az']
                    cat_page_keywords_ru.value =  res['page_keywords_ru']
                    cat_page_keywords_en.value =  res['page_keywords_en']
                    cat_page_keywords_az.value =  res['page_keywords_az']
                    cat_page_description_ru.value = res['page_description_ru']
                    cat_page_description_en.value = res['page_description_en']
                    cat_page_description_az.value = res['page_description_az']
                    cat_seo_ru.innerHTML=res['seo_text_ru']
                    cat_seo_en.innerHTML=res['seo_text_en']
                    cat_seo_az.innerHTML=res['seo_text_az']
                    update_cat_id.value = res['id']



                    edit_cat.style.display = 'block'
                })

        }
        function editSubCategory(id) {
            let cat_name_ru = document.getElementById('subcat_name_ru'),
                cat_name_en = document.getElementById('subcat_name_en'),
                cat_name_az = document.getElementById('subcat_name_az'),
                cat_page_title_ru = document.getElementById('subcat_page_title_ru'),
                cat_page_title_en = document.getElementById('subcat_page_title_en'),
                cat_page_title_az = document.getElementById('subcat_page_title_az'),
                cat_page_keywords_ru = document.getElementById('subcat_page_keywords_ru'),
                cat_page_keywords_en = document.getElementById('subcat_page_keywords_en'),
                cat_page_keywords_az = document.getElementById('subcat_page_keywords_az'),
                cat_page_description_ru = document.getElementById('subcat_page_description_ru'),
                cat_page_description_en = document.getElementById('subcat_page_description_en'),
                cat_page_description_az = document.getElementById('subcat_page_description_az'),
                cat_image = document.getElementById('subcat_image'),
                cat_seo_ru = document.getElementById('subcat_seo_text_ru'),
                cat_seo_en = document.getElementById('subcat_seo_text_en'),
                cat_seo_az = document.getElementById('subcat_seo_text_az'),
                update_cat_id = document.getElementById('update_subcat_id')

            new_cat.style.display = 'none'
            new_subcat.style.display = 'none'
            edit_cat.style.display = 'none'

            let body = {
                id: id

            }
            fetch('/cp/category/get_subcat_info', {
                method: 'post',
                body: JSON.stringify(body),
                headers: { "X-CSRFToken": '{{ csrf_token }}' },
                credentials: 'same-origin'
            }).then(res=>res.json())
                .then(res => {
                    console.log(res)

                   cat_name_ru.value = res['name_ru']
                    cat_name_en.value = res['name_en']
                    cat_name_az.value = res['name_az']
                    cat_image.setAttribute('src',res['image'])
                    cat_page_title_ru.value = res['page_title_ru']
                    cat_page_title_en.value = res['page_title_en']
                    cat_page_title_az.value = res['page_title_az']
                    cat_page_keywords_ru.value =  res['page_keywords_ru']
                    cat_page_keywords_en.value =  res['page_keywords_en']
                    cat_page_keywords_az.value =  res['page_keywords_az']
                    cat_page_description_ru.value = res['page_description_ru']
                    cat_page_description_en.value = res['page_description_en']
                    cat_page_description_az.value = res['page_description_az']
                    cat_seo_ru.innerHTML=res['seo_text_ru']
                    cat_seo_en.innerHTML=res['seo_text_en']
                    cat_seo_az.innerHTML=res['seo_text_az']


                    update_cat_id.value = res['id']



                    edit_subcat.style.display = 'block'
                })

        }
    </script>
{% endblock %}